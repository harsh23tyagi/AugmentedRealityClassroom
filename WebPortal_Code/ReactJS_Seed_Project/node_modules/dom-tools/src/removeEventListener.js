var canUseDOM = require('./canUseDOM');

var removeEventListener = function(){};

if (canUseDOM) {
  removeEventListener = (function() {
    if (document.addEventListener) {
      /**
       * Remove existing event handler.
       *
       * @param {Element} target DOM element to register listener on.
       * @param {string} eventType Event type, e.g. 'click' or 'mouseover'.
       * @param {function} callback Callback function.
       * @param {boolean} capture Capture phase. defaults to `false`
       */
      return function(target, eventType, callback, capture) {
        target.removeEventListener(eventType, callback, !!capture);
      }
    } else if (document.attachEvent) {
      /**
       * Remove existing event handler.
       *
       * @param {Element} target DOM element to register listener on.
       * @param {string} eventType Event type, e.g. 'click' or 'mouseover'.
       * @param {function} callback Callback function.
       */
      return function(target, eventType, callback) {
        target.detachEvent('on' + eventType, callback);
      }
    }
  })();
}

module.exports = removeEventListener;